<a routerLink="welcome" class="cursor-pointer">Welcome</a>
<div class="task-container ">
    <div style=" display: grid;
    grid-template-columns: 1fr 1fr 1fr;
   grid-gap: 10px;">
        <div class="app-title">SARAY</div>
        <div style=" justify-self: center;  margin-top: 2%;">
            <button type="submit" class="task-button-add" role="button" (click)="openAddTaskModal()">+ New task</button>
        </div>
        <div style=" justify-self: end;  margin-top: 2%; margin-right: 2%;">
            <input type="text" id="search" placeholder=" search" class="filter-tab" (keyup)="filter($event)">
        </div>
    </div>

    @if(loggedIn) {
    <div>
        <button (click)="logout()">logout</button>
    </div>
    } @else {
    <div>
        <button (click)="login()">login</button>
    </div>
    }


    @if (loading) {
    <div class="loader"></div>
    } @else {
    <div class=" task-board" cdkDropListGroup>
        <div style="grid-column-start: 2;">
            <div class="status-title" cdkDropList>NOT DONE <span
                    style="font-size: 14px; color:  rgb(185, 185, 185);">{{tasksToDo.length}}</span></div>
            <div cdkDropList [cdkDropListData]="tasksToDo" (cdkDropListDropped)="drop($event, 'NOT_DONE')"
                style="min-height: 60%;">
                @for (task of tasksToDo ;track task.id) { <app-task-card cdkDrag [task]="task"
                    (editTask)="openEditTaskModal($event)"></app-task-card>
                }
            </div>
        </div>
        <div style="grid-column-start: 3;">
            <div class="status-title" cdkDropList>IN PROGRESS <span
                    style="font-size: 14px; color:  rgb(185, 185, 185);">{{tasksInProgress.length}}</span></div>
            <div cdkDropList (cdkDropListDropped)="drop($event,'IN_PROGRESS')" [cdkDropListData]="tasksInProgress"
                style="min-height: 60%;">
                @for (task of tasksInProgress ;track task.id) { <app-task-card cdkDrag [task]="task"
                    (editTask)="openEditTaskModal($event)"></app-task-card>
                }
            </div>
        </div>
        <div style="grid-column-start: 4;">
            <div class="status-title">DONE <span
                    style="font-size: 14px; color: rgb(185, 185, 185);">{{tasksDone.length}}</span></div>
            <div cdkDropList [cdkDropListData]="tasksDone" (cdkDropListDropped)="drop($event,'DONE')"
                style="min-height: 60%;">
                @for (task of tasksDone ;track task.id) { <app-task-card cdkDrag [task]="task"
                    (editTask)="openEditTaskModal($event)"></app-task-card>
                }
            </div>
        </div>
    </div>}
</div>